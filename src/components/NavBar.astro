---
const { locale } = Astro.props;
import fr from "../locales/fr.ts";
import en from "../locales/en.ts";
import LanguageSelector from "./LanguageSelector.astro";

const t = locale === "en" ? en : fr;
---

<nav class="bg-blue-600 text-white shadow">
  <div class="container mx-auto px-4 py-3 flex justify-between items-center">
    <a href={`./`} class="text-xl font-bold">{t.nav.home}</a>

    <!-- BOUTON HAMBURGER (visible uniquement en mobile) -->
    <button
      class="md:hidden block text-black bg-white p-2 rounded"
      aria-label="Ouvrir le menu"
      onclick="document.getElementById('menu-content').classList.toggle('hidden')"
    >
      <svg class="w-6 h-6" viewBox="0 0 24 24">
        <path d="M4 6h16M4 12h16M4 18h16" stroke="black"></path>
      </svg>
    </button>

    <!-- CONTENU DU MENU (liens + langue + dark mode) -->
    <div
      id="menu-content"
      class="hidden md:flex md:items-center md:gap-6 flex-col md:flex-row w-full md:w-auto mt-4 md:mt-0"
    >
      <ul
        class="flex flex-col md:flex-row gap-4 md:gap-6 text-center md:text-left"
      >
        <li>
          <a href={`prestations`} class="hover:underline">{t.nav.services}</a>
        </li>
        <li><a href={`a-propos`} class="hover:underline">{t.nav.about}</a></li>
        <li>
          <a href={`references`} class="hover:underline">{t.nav.references}</a>
        </li>
        <li>
          <a href={`missions`} class="hover:underline">{t.nav.missions}</a>
        </li>
        <li><a href={`contact`} class="hover:underline">{t.nav.contact}</a></li>
      </ul>

      <!-- S√âLECTEUR DE LANGUE -->
      <div class="mt-4 md:mt-0">
        <LanguageSelector />
      </div>

      <!-- BOUTON DARK MODE -->
      <button
        onclick="toggleTheme()"
        class="mt-4 md:mt-0 p-2 rounded bg-gray-200 dark:bg-gray-800 text-black dark:text-white"
      >
        üåô / ‚òÄÔ∏è
      </button>
    </div>
  </div>
</nav>
