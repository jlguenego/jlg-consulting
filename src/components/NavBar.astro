---
const { locale } = Astro.props;
import fr from "../locales/fr.ts";
import en from "../locales/en.ts";
import LanguageSelector from "./LanguageSelector.astro";

const t = locale === "en" ? en : fr;
---

<nav class="bg-blue-600 text-white shadow relative z-50">
  <div
    class="container mx-auto px-4 py-3 flex justify-between items-center relative"
  >
    <a href={`./`} class="text-xl font-bold">{t.nav.home}</a>

    <!-- BOUTON HAMBURGER (mobile only) -->
    <button
      class="md:hidden block text-white"
      aria-label="Ouvrir le menu"
      onclick="document.getElementById('menu-content').classList.toggle('hidden')"
    >
      <svg class="w-6 h-6 fill-current" viewBox="0 0 24 24">
        <path d="M4 6h16M4 12h16M4 18h16"></path>
      </svg>
    </button>

    <!-- CONTENU MENU - visible en desktop -->
    <div class="hidden md:flex md:items-center md:gap-6">
      <ul class="flex gap-6">
        <li>
          <a href={`prestations`} class="hover:underline">{t.nav.services}</a>
        </li>
        <li><a href={`a-propos`} class="hover:underline">{t.nav.about}</a></li>
        <li>
          <a href={`references`} class="hover:underline">{t.nav.references}</a>
        </li>
        <li>
          <a href={`missions`} class="hover:underline">{t.nav.missions}</a>
        </li>
        <li><a href={`contact`} class="hover:underline">{t.nav.contact}</a></li>
      </ul>
      <LanguageSelector />
      <button
        onclick="toggleTheme()"
        class="p-2 rounded bg-gray-200 dark:bg-gray-800 text-black dark:text-white"
      >
        🌙 / ☀️
      </button>
    </div>
  </div>

  <!-- MENU MOBILE DEROULANT ABSOLU -->
  <div
    id="menu-content"
    class="absolute top-full left-0 w-full bg-blue-600 text-white flex flex-col items-center gap-4 py-4 md:hidden hidden z-50"
  >
    <ul class="flex flex-col gap-2 items-center">
      <li>
        <a href={`prestations`} class="hover:underline">{t.nav.services}</a>
      </li>
      <li><a href={`a-propos`} class="hover:underline">{t.nav.about}</a></li>
      <li>
        <a href={`references`} class="hover:underline">{t.nav.references}</a>
      </li>
      <li><a href={`missions`} class="hover:underline">{t.nav.missions}</a></li>
      <li><a href={`contact`} class="hover:underline">{t.nav.contact}</a></li>
    </ul>
    <LanguageSelector />
    <button
      onclick="toggleTheme()"
      class="p-2 rounded bg-gray-200 dark:bg-gray-800 text-black dark:text-white"
    >
      🌙 / ☀️
    </button>
  </div>
</nav>
